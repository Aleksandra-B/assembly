
.486
.model flat, stdcall
INCLUDE stdlib.inc
INCLUDELIB msvcrt.lib

.DATA
LEN1 EQU 4
v1 dw 1, 7, 3, 4
v2 dw LEN1 dup(?)
v3 dw LEN1 dup(?)


a1 dw 5


.CODE
main:
push dword ptr a1
push offset v3
push offset v2
push offset v1
push dword ptr LEN1
call compute_array
add esp, 20 

call exit 

compute_array:
push ebp
mov ebp, esp

pusha
mov ecx, [ebp+8] ; put in ecx len
mov esi, [ebp+12] ;put in esi first array
mov edx, [ebp+16] ;put in edx snd array
mov edi, [ebp+20] ;in eax 3 array
mov ebx, [ebp+ 24]

start:
dec ecx
jl stop 

xor eax, eax
mov ax , [esi+2*ecx]
cmp ax, bx
jae putsecond
mov [edx+ 2*ecx], ax
jmp start

putsecond:
  mov [edi +2*ecx], ax 
  jmp start 
stop: 
popa
pop ebp
ret

END main
